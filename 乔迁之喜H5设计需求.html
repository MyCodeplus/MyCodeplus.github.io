<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>乔迁之喜·恭贺光临</title>
    <script src="https://cdn.tailwindcss.com/3.3.3"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&family=Noto+Serif+SC:wght@400;700&display=swap');
        
        :root {
            --primary-color: #d81e06;
            --secondary-color: #ffde59;
        }
        
        body {
            font-family: 'Noto Serif SC', serif;
            background-color: #f8f1e9;
            color: white;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 1rem 0;
        }
        
        .container {
            width: 100%;
            max-width: 100%;
            margin: 0 auto;
            position: relative;
            aspect-ratio: 9/16;
            overflow: hidden;
            background: linear-gradient(135deg, var(--primary-color) 0%, #b71c1c 100%);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }
        
        /* 烟花样式 */
        .firework {
            position: absolute;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            z-index: 10;
            pointer-events: none;
        }
        
        .firework-trail {
            position: absolute;
            width: 2px;
            background: linear-gradient(to top, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.8));
            transform-origin: bottom center;
            z-index: 9;
            pointer-events: none;
        }
        
        .section {
            width: 100%;
            height: 100%;
            padding: 1.5rem;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: absolute;
            top: 0;
            left: 0;
            opacity: 0;
            transition: opacity 0.5s ease;
            overflow-y: auto;
        }
        
        .section.active {
            opacity: 1;
            z-index: 1;
        }
        
        .page-title {
            font-family: 'Ma Shan Zheng', cursive;
            font-size: 2rem;
            color: var(--secondary-color);
            text-shadow: 2px 2px 0 rgba(0, 0, 0, 0.2);
            margin-bottom: 1rem;
            text-align: center;
        }
        
        .page-subtitle {
            font-size: 1rem;
            color: white;
            margin-bottom: 1.5rem;
            letter-spacing: 1px;
            text-align: center;
        }
        
        .decoration {
            position: absolute;
            z-index: 1;
        }
        
        .lantern {
            width: 50px;
            height: 70px;
            background-color: var(--primary-color);
            border-radius: 50% 50% 5px 5px;
            position: relative;
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.5);
            animation: swing 3s infinite ease-in-out;
        }
        
        .lantern:before {
            content: '';
            position: absolute;
            width: 8px;
            height: 8px;
            background-color: var(--secondary-color);
            border-radius: 50%;
            top: -4px;
            left: 21px;
        }
        
        .lantern:after {
            content: '福';
            position: absolute;
            color: var(--secondary-color);
            font-size: 20px;
            font-weight: bold;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
        
        .plum-blossom {
            width: 30px;
            height: 30px;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 100\"><path d=\"M20,50 Q50,20 80,50 Q50,80 20,50 Z\" fill=\"%23ffde59\"/></svg>');
            background-size: contain;
            background-repeat: no-repeat;
            animation: sway 4s infinite ease-in-out;
        }
        
        .btn {
            background-color: var(--secondary-color);
            color: var(--primary-color);
            padding: 1rem 2rem;
            border-radius: 50px;
            font-weight: bold;
            text-decoration: none;
            margin-top: 1rem;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            min-width: 100px;
            min-height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }
        
        .btn:active {
            transform: translateY(1px);
        }
        
        .content-text {
            text-align: center;
            line-height: 1.6;
            margin-bottom: 1rem;
            font-size: 0.95rem;
            max-width: 90%;
        }
        
        /* 活动流程样式调整 */
.schedule {
  width: 90%;
  margin: 1rem auto;
}

.schedule-title {
  font-family: 'Ma Shan Zheng', cursive;
  font-size: 1.2rem;
  color: var(--secondary-color);
  text-align: center;
  margin-bottom: 1.5rem;
}

.schedule-item {
  display: flex;
  align-items: center;
  margin-bottom: 1.2rem;
}

.schedule-time {
  font-weight: bold;
  color: var(--secondary-color);
  min-width: 50px;
  text-align: right;
  margin-right: 0.5rem;
  font-size: 0.8rem;
}

/* 竖线分隔样式 */
.schedule-divider {
  width: 1px;
  height: 1.2em;
  background-color: var(--secondary-color);
  opacity: 0.7;
  margin: 0 0.5rem;
}

.schedule-desc {
  flex: 1;
  text-align: left;
  font-size: 0.8rem;
}

/* 响应式调整 */
@media (min-width: 640px) {
  .schedule-time,
  .schedule-desc {
    font-size: 0.9rem;
  }
}
        
        /* 图片画廊样式 */
        .gallery {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.8rem;
            width: 95%;
            margin: 0.8rem auto;
        }
        
        .gallery-item {
            aspect-ratio: 1;
            background-size: cover;
            background-position: center;
            border-radius: 8px;
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .gallery-item:hover {
            transform: scale(1.03);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
        }
        
        /* 图片放大模态框 */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            padding: 1rem;
            box-sizing: border-box;
        }
        
        .modal-content {
            max-width: 90%;
            max-height: 90%;
            border-radius: 8px;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
        }
        
        .close-modal {
            position: absolute;
            top: 1rem;
            right: 1rem;
            color: white;
            font-size: 2rem;
            cursor: pointer;
        }

        .contact-info {
            text-align: center;
            margin: 0.8rem 0;
            line-height: 1.6;
            font-size: 0.95rem;
        }
        
        .contact-link {
            color: var(--secondary-color);
            text-decoration: none;
            transition: all 0.3s ease;
        }
        
        .contact-link:hover {
            text-decoration: underline;
        }
        
        .law-office-image {
            width: 90%;
            height: 200px;
            background-size: cover;
            background-position: center 30%;
            border-radius: 8px;
            margin: 0.8rem 0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 0.9rem;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            cursor: pointer;
            object-fit: cover;
        }
        
        .law-office-image:hover {
            transform: scale(1.02);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
        }
        
        @keyframes swing {
            0%, 100% { transform: rotate(-5deg); }
            50% { transform: rotate(5deg); }
        }
        
        @keyframes sway {
            0%, 100% { transform: rotate(-3deg) translateY(0); }
            50% { transform: rotate(3deg) translateY(-5px); }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .fade-in {
            animation: fadeIn 0.8s ease forwards;
            opacity: 0;
        }
        
        .delay-1 { animation-delay: 0.2s; }
        .delay-2 { animation-delay: 0.4s; }
        .delay-3 { animation-delay: 0.6s; }
        .delay-4 { animation-delay: 0.8s; }
        .delay-5 { animation-delay: 1s; }
        
        .bird {
            position: absolute;
            width: 25px;
            height: 25px;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 100\"><path d=\"M20,50 Q50,20 80,50 Q50,80 20,50 Z\" fill=\"%23ffde59\"/></svg>');
            background-size: contain;
            animation: fly 12s linear infinite;
            opacity: 0.7;
        }
        
        @keyframes fly {
            0% { transform: translateX(-40px) translateY(0); }
            50% { transform: translateX(calc(100vw + 40px)) translateY(-40px); }
            100% { transform: translateX(calc(100vw + 40px)) translateY(0); }
        }

        .address-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 0.8rem 0;
        }

        .navigation-address {
            color: var(--secondary-color);
            text-decoration: none;
            font-weight: bold;
            margin-bottom: 0.4rem;
            font-size: 0.95rem;
        }

        .detail-address {
            color: white;
            font-size: 0.85rem;
        }

        /* 响应式调整 */
        @media (min-width: 640px) {
            .container {
                max-width: 375px;
            }
            
            .page-title {
                font-size: 2.5rem;
            }
            
            .page-subtitle {
                font-size: 1.2rem;
            }
            
            .content-text, .contact-info {
                font-size: 1rem;
            }
            
            .btn {
                padding: 1.2rem 2.4rem;
                font-size: 1rem;
            }
            
            .schedule-item {
                font-size: 1rem;
            }
            
            .law-office-image {
                height: 250px;
            }
        }

        /* 页脚样式 */
        footer {
            background-color: rgba(0, 0, 0, 0.2);
            color: white;
            text-align: center;
            padding: 0.5rem;
            font-size: 0.8rem;
            width: 100%;
            max-width: 375px;
            box-sizing: border-box;
            margin-top: 1rem;
            border-radius: 8px;
        }
        
        footer a {
            color: var(--secondary-color);
            text-decoration: none;
        }

        /* 音频控制样式 */
        .audio-controls {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: rgba(0, 0, 0, 0.5);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
        }
        
        .audio-controls:hover {
            transform: scale(1.1);
            background-color: rgba(0, 0, 0, 0.7);
        }
        
        .audio-icon {
            color: var(--secondary-color);
            font-size: 1.5rem;
        }
        
        /* 音频提示样式 */
        .audio-tip {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 0.8rem 1.5rem;
            border-radius: 50px;
            font-size: 0.9rem;
            z-index: 2000;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .audio-tip.show {
            opacity: 1;
        }
    </style>
</head>
<body>
    <!-- 1. 背景音乐元素 - 请替换为您的背景音乐 -->
    <audio id="backgroundMusic" loop preload="auto" volume="0.01">
        <source src="好运来.mp3" type="audio/mpeg">
    </audio>
    
    <!-- 2. 烟花爆炸音效元素 - 请替换为您的爆炸音效 -->
    <audio id="fireworkSound" preload="auto" volume="1">
        <source src="烟花爆炸.mp3" type="audio/mpeg">
    </audio>
    
    <!-- 音频启用提示 -->
    <div class="audio-tip" id="audioTip">
        <i class="fas fa-music"></i>
        <span>点击页面任意位置启用音效</span>
    </div>
    
    <!-- 音频控制按钮 -->
    <div class="audio-controls" id="audioControl">
        <i class="fas fa-play audio-icon" id="audioIcon"></i>
    </div>
    
    <div class="container">
        <!-- 装饰元素 -->
        <div class="decoration lantern" style="top: 15px; left: 15px;"></div>
        <div class="decoration lantern" style="top: 15px; right: 15px; animation-delay: 0.5s;"></div>
        <div class="decoration plum-blossom" style="top: 25px; left: 80px;"></div>
        <div class="decoration plum-blossom" style="top: 30px; right: 90px; animation-delay: 0.3s;"></div>
        <div class="decoration plum-blossom" style="bottom: 25px; left: 70px; animation-delay: 0.7s;"></div>
        <div class="decoration plum-blossom" style="bottom: 30px; right: 80px; animation-delay: 0.9s;"></div>
        
        <div class="bird" style="top: 15%; animation-delay: 0s;"></div>
        <div class="bird" style="top: 25%; animation-delay: 3s; animation-duration: 15s;"></div>
        <div class="bird" style="top: 35%; animation-delay: 6s; animation-duration: 10s;"></div>
        
        <!-- 邀请函首页 -->
        <section id="home" class="section active">
            <h1 class="page-title fade-in">乔迁之喜·恭贺光临</h1>
            <p class="page-subtitle fade-in delay-1">INVITATION</p>
            <div class="content-text fade-in delay-2">
                <br>三十载耕耘，新程启华章<br>
                诚挚邀请您莅临我们的新址<br>
                共同见证这一重要时刻
            </div>
            <a href="#invitation" class="btn fade-in delay-3">查看详情</a>
        </section>
        
        <!-- 诚挚邀请页 -->
        <section id="invitation" class="section">
            <h1 class="page-title fade-in">诚挚邀请</h1>
            <div class="content-text fade-in delay-1">
                今逢乔迁之喜 新址承旧志 焕新再出发。<br>
                <div class="gallery">
               <div class="gallery-item fade-in delay-4" style="background-image: url('https://space.coze.cn/s/4FQGPbuO6sI/?width_height=1279x1506'); cursor: pointer;" onclick="openModal('https://space.coze.cn/s/4FQGPbuO6sI/?width_height=1279x1506')"></div>
                
              <div class="gallery-item fade-in" style="background-image: url('https://space.coze.cn/s/2z0nvGwonts/?width_height=2364x1773'); cursor: pointer;" onclick="openModal('https://space.coze.cn/s/2z0nvGwonts/?width_height=2364x1773')"></div>
                <br>
                </div>
                承蒙各位同仁、合作伙伴一直以来的支持与厚爱<br>
                诚邀您拨冗莅临，共赏新境、同话过往、畅叙未来<br>
                让我们以新址为起点，续写更多温暖与荣光
            </div>
            <!-- 图片放大模态框 -->
            <div id="imageModal" class="modal" onclick="closeModal()">
                <span class="close-modal">×</span>
                <img class="modal-content" id="modalImage" alt="放大查看的图片">
            </div>
            <a href="#schedule" class="btn fade-in delay-2">活动流程</a>
        </section>
        
       <!-- 活动流程页 -->
<section id="schedule" class="section">
  <h1 class="page-title fade-in">活动流程</h1>
  
  <div class="schedule">
    <div class="schedule-item fade-in">
      <div class="schedule-time">8:30</div>
      <div class="schedule-divider"></div>
      <div class="schedule-desc">来宾签到入场</div>
    </div>
    <div class="schedule-item fade-in delay-1">
      <div class="schedule-time">8:58</div>
      <div class="schedule-divider"></div>
      <div class="schedule-desc">隆重剪彩仪式</div>
    </div>
    <div class="schedule-item fade-in delay-2">
      <div class="schedule-time">9:10</div>
      <div class="schedule-divider"></div>
      <div class="schedule-desc">主任开场致辞</div>
    </div>
    <div class="schedule-item fade-in delay-3">
      <div class="schedule-time">9:15</div>
      <div class="schedule-divider"></div>
      <div class="schedule-desc">嘉宾代表发言</div>
    </div>
    <div class="schedule-item fade-in delay-4">
      <div class="schedule-time">9:25</div>
      <div class="schedule-divider"></div>
      <div class="schedule-desc">全体合影留念</div>
    </div>
    <div class="schedule-item fade-in delay-5">
      <div class="schedule-time">11:30</div>
      <div class="schedule-divider"></div>
      <div class="schedule-desc">午宴正式开始</div>
    </div>
  </div>
  
  <a href="#gallery" class="btn fade-in delay-3">新所展示</a>
</section>
        
        <!-- 新所展示页 -->
        <section id="gallery" class="section">
            <h1 class="page-title fade-in">新所展示</h1>
            
            
            <div class="gallery">
                <div class="gallery-item fade-in delay-2" style="background-image: url('https://space.coze.cn/s/3c-k7153HWY/?width_height=1280x1707'); cursor: pointer;" onclick="openModal('https://space.coze.cn/s/3c-k7153HWY/?width_height=1280x1707')"></div>
                <div class="gallery-item fade-in delay-3" style="background-image: url('https://space.coze.cn/s/3xmjdIKprY0/?width_height=1280x1707'); cursor: pointer;" onclick="openModal('https://space.coze.cn/s/3xmjdIKprY0/?width_height=1280x1707')"></div>
                <div class="gallery-item fade-in delay-1" style="background-image: url('https://space.coze.cn/s/3HdRQI2RHwc/?width_height=1700x1276'); cursor: pointer;" onclick="openModal('https://space.coze.cn/s/3HdRQI2RHwc/?width_height=1700x1276')"></div>
                <div class="gallery-item fade-in delay-5" style="background-image: url('https://space.coze.cn/s/4cJf5ATWAX8/?width_height=584x785'); cursor: pointer;" onclick="openModal('https://space.coze.cn/s/4cJf5ATWAX8/?width_height=584x785')"></div>
            </div>
            
            <!-- 图片放大模态框 -->
            <div id="imageModal" class="modal" onclick="closeModal()">
                <span class="close-modal">×</span>
                <img class="modal-content" id="modalImage" alt="放大查看的图片">
            </div>
            
            <a href="#contact" class="btn fade-in delay-4">联系我们</a>
        </section>
        
        <!-- 联系我们页 -->
        <section id="contact" class="section">
            <h1 class="page-title fade-in">联系我们</h1>
            
            <div class="contact-info fade-in">
                <p><i class="fas fa-phone-alt"></i> 电话：13175099187（张律师）</p>
                <div class="address-container fade-in delay-1">
                    <a href="https://uri.amap.com/marker?position=120.338598,30.305687&amp;name=杭州市钱塘区金沙大道30号(高沙路地铁站A口旁)" class="navigation-address" target="_blank">
                        <i class="fas fa-map-marker-alt"></i> 导航地址：杭州市钱塘区金沙大道30号（地铁高沙路站）
                    </a>
                    <div class="detail-address">详细地址：盈都大厦1号楼901室</div>
                </div>
            </div>
            
            <!-- 恢复原始办公室图片 -->
            <a href="https://uri.amap.com/marker?position=120.338598,30.305687&amp;name=杭州市钱塘区金沙大道30号(高沙路地铁站A口旁)" class="law-office-image fade-in delay-2" style="background-image: url('https://space.coze.cn/s/5127e0YE3ac/?width_height=1700x1003'); background-position: center 30%;" target="_blank">
                <div style="background-color: rgba(0,0,0,0.5); padding: 0.5rem 1rem; border-radius: 20px;">
                    <i class="fas fa-map-marked-alt" style="font-size: 1.2rem; margin-right: 0.3rem;"></i>
                    <span>点击查看地图</span>
                </div>
            </a>
            
            <!-- 直接链接到腾讯文档表单 -->
            <a href="https://docs.qq.com/form/page/DWnJzTWd4RFFySUNS" class="btn fade-in delay-3" target="_blank">在线报名</a>
        </section>
    </div>

    <footer>
        <p>created by <a href="https://space.coze.cn" target="_blank">coze space</a> | 页面内容均由 AI 生成，仅供参考</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 初始化页面显示
            document.getElementById('home').classList.add('active');
            
            // 音频元素和控制
            const backgroundMusic = document.getElementById('backgroundMusic');
            const fireworkSound = document.getElementById('fireworkSound');
            const audioControl = document.getElementById('audioControl');
            const audioIcon = document.getElementById('audioIcon');
            const audioTip = document.getElementById('audioTip');
            let isPlaying = false;
            
            // 显示音频启用提示
            
            
            // 隐藏提示条
            
            
            // 播放/暂停背景音乐
            function toggleMusic() {
                if (isPlaying) {
                    backgroundMusic.pause();
                    audioIcon.classList.remove('fa-pause');
                    audioIcon.classList.add('fa-play');
                } else {
                    backgroundMusic.play().then(() => {
                        audioIcon.classList.remove('fa-play');
                        audioIcon.classList.add('fa-pause');
                    }).catch(e => {
                        console.log('播放失败，需要用户交互:', e);
                    });
                }
                isPlaying = !isPlaying;
            }
            
            // 播放烟花音效
            function playFireworkSound() {
                if (!isPlaying) return;
                
                try {
                    fireworkSound.currentTime = 0;
                    fireworkSound.play().catch(e => {
                        console.log('烟花音效播放失败:', e);
                    });
                } catch (e) {
                    console.error('播放音效出错:', e);
                }
            }
            
            // 音频控制按钮点击事件
            audioControl.addEventListener('click', function(e) {
                e.stopPropagation();
                toggleMusic();
                hideAudioTip();
            });
            
            // 点击页面任意位置启用音频
            document.body.addEventListener('click', function enableAudio() {
                if (!isPlaying) {
                    backgroundMusic.play().then(() => {
                        isPlaying = true;
                        audioIcon.classList.remove('fa-play');
                        audioIcon.classList.add('fa-pause');
                        hideAudioTip();
                    }).catch(e => {
                        console.log('需要用户交互才能播放音频:', e);
                    });
                }
                document.body.removeEventListener('click', enableAudio);
            }, { once: true });
            
            // 导航切换
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    const targetId = this.getAttribute('href').substring(1);
                    const targetSection = document.getElementById(targetId);
                    
                    if (targetSection) {
                        // 隐藏所有section
                        document.querySelectorAll('.section').forEach(section => {
                            section.classList.remove('active');
                        });
                        
                        // 显示目标section
                        targetSection.classList.add('active');
                        
                        // 平滑滚动到顶部
                        window.scrollTo({
                            top: 0,
                            behavior: 'smooth'
                        });
                        
                        // 尝试播放音乐
                        if (!isPlaying) {
                            backgroundMusic.play().then(() => {
                                isPlaying = true;
                                audioIcon.classList.remove('fa-play');
                                audioIcon.classList.add('fa-pause');
                                hideAudioTip();
                            }).catch(e => {});
                        }
                    }
                });
            });
            
            // 图片放大模态框功能
            window.openModal = function(imageUrl) {
                const modal = document.getElementById('imageModal');
                const modalImg = document.getElementById('modalImage');
                modal.style.display = 'flex';
                modalImg.src = imageUrl;
                modalImg.alt = "放大查看的图片";
                
                // 阻止模态框内部点击事件冒泡
                modalImg.onclick = function(e) {
                    e.stopPropagation();
                };
            }
            
            window.closeModal = function() {
                const modal = document.getElementById('imageModal');
                modal.style.display = 'none';
            }
            
            // 烟花效果代码
            const fireworkColors = [
                '#ff3864', '#ffdd57', '#23d16b', '#00d1b2', '#613dc1', 
                '#ff9f1c', '#e76f51', '#f4a261', '#e9c46a', '#2a9d8f'
            ];
            
            // 发射烟花（从底部升起）
            function launchFirework() {
                if (!document.querySelector('.section.active')) return;
                
                const container = document.querySelector('.container');
                const containerHeight = container.offsetHeight;
                
                // 创建烟花弹
                const firework = document.createElement('div');
                firework.classList.add('firework');
                
                // 创建尾迹
                const trail = document.createElement('div');
                trail.classList.add('firework-trail');
                
                // 随机水平位置（5%-95%宽度）
                const startX = Math.random() * 90 + 5;
                // 从底部开始
                const startY = 100;
                
                // 随机颜色
                const color = fireworkColors[Math.floor(Math.random() * fireworkColors.length)];
                firework.style.backgroundColor = color;
                firework.style.left = `${startX}%`;
                firework.style.top = `${startY}%`;
                
                // 设置尾迹
                trail.style.left = `${startX}%`;
                trail.style.top = `${startY}%`;
                trail.style.height = '0px';
                
                container.appendChild(trail);
                container.appendChild(firework);
                
                // 随机爆炸高度（10%-80%高度）
                const explosionY = Math.random() * 70 + 10;
                // 上升动画持续时间（1-2秒）
                const duration = 1000 + Math.random() * 1000;
                
                const startTime = Date.now();
                
                // 上升动画
                function animateRise() {
                    const currentTime = Date.now();
                    const elapsed = currentTime - startTime;
                    const progress = Math.min(elapsed / duration, 1);
                    
                    // 计算当前位置（缓动上升）
                    const currentY = startY - (startY - explosionY) * progress;
                    
                    // 更新烟花位置
                    firework.style.top = `${currentY}%`;
                    
                    // 更新尾迹长度
                    trail.style.height = `${(startY - currentY) * (containerHeight / 100)}px`;
                    
                    if (progress < 1) {
                        requestAnimationFrame(animateRise);
                    } else {
                        // 到达爆炸点，移除尾迹，触发爆炸
                        container.removeChild(trail);
                        explodeFirework(firework, color);
                    }
                }
                
                requestAnimationFrame(animateRise);
            }
            
            // 烟花爆炸效果
            function explodeFirework(firework, color) {
                // 播放爆炸音效
                playFireworkSound();
                
                // 爆炸粒子数量为50-80个
                const particlesCount = 50 + Math.floor(Math.random() * 31);
                const container = document.querySelector('.container');
                
                // 移除原始烟花
                firework.remove();
                
                // 创建爆炸粒子
                for (let i = 0; i < particlesCount; i++) {
                    const particle = document.createElement('div');
                    particle.classList.add('firework');
                    particle.style.backgroundColor = color;
                    particle.style.left = firework.style.left;
                    particle.style.top = firework.style.top;
                    
                    // 随机粒子大小
                    const size = Math.random() * 3 + 1;
                    particle.style.width = `${size}px`;
                    particle.style.height = `${size}px`;
                    
                    container.appendChild(particle);
                    
                    // 随机方向和距离
                    const angle = Math.random() * Math.PI * 2;
                    const distance = Math.random() * 80 + 30;
                    const destX = Math.cos(angle) * distance;
                    const destY = Math.sin(angle) * distance;
                    
                    // 动画
                    particle.style.transition = `all ${Math.random() * 1 + 0.5}s ease-out`;
                    
                    setTimeout(() => {
                        particle.style.transform = `translate(${destX}px, ${destY}px)`;
                        particle.style.opacity = '0';
                    }, 10);
                    
                    // 移除粒子
                    setTimeout(() => {
                        if (particle.parentNode === container) {
                            container.removeChild(particle);
                        }
                    }, 1500);
                }
            }
            
            // 定时发射烟花（每1-3秒生成5-6个）
            function startFireworks() {
                function createBatch() {
                    // 每次生成5-6个烟花
                    const count = Math.floor(Math.random() * 2) + 5;
                    for (let i = 0; i < count; i++) {
                        // 每个烟花之间有微小延迟，避免完全重叠
                        setTimeout(launchFirework, i * 200);
                    }
                    
                    // 1-3秒后再次生成一批
                    setTimeout(createBatch, 1000 + Math.random() * 2000);
                }
                
                // 启动烟花效果
                createBatch();
            }
            
            // 页面加载完成后开始烟花效果
            window.addEventListener('load', startFireworks);
        });
    </script>
</body>
</html>
    
